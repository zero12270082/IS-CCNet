amp_backend: native
amp_level: O1
aug:
  crop: false
  downsample:
  - 512
  - 512
  h-flip: true
  v-flip: true
backend: ddp
batchsize: 1
checkpoint_monitor: loss
checkpoint_path: null
comment: false
dataloader_num_worker: 4
debug: false
early_stop: false
flags: {}
gpu: -1
log_every: 5000
logger: tb
lr: 0.0001
mode: train
monitor_mode: min
name: csecnet_test1@lcdp_data.train
num_epoch: 300
project: default_proj
resume_training: true
runtime:
  backbone: bilateral_upsample_net
  backbone_out_illu: true
  bilateral_upsample_net:
    backbone: hist-unet
    batch_norm: true
    channel_multiplier: 1
    coeffs_type: matrix
    conv_type: conv
    hist_unet:
      channel_nums:
      - 16
      - 32
      - 64
      - 128
      - 256
      conv_type: drconv
      down_ratio: 2
      drconv_position:
      - 0
      - 1
      encoder_use_hist: false
      guide_feature_from_hist: true
      hist_as_guide: false
      hist_conv_trainable: false
      n_bins: 8
      region_num: 2
      use_gray_hist: false
    illu_map_power: false
    loss:
      cos: 0.1
      ltv: 0.1
      mse: 1.0
    low_resolution: 256
    luma_bins: 8
    modelname: bilateral_upsample_net
    predict_illumination: false
    spatial_bin: 16
  conv_type: conv
  deform: true
  hist_as_guide: false
  hist_unet:
    channel_nums: false
    conv_type: drconv
    down_ratio: 2
    drconv_position:
    - 1
    - 1
    encoder_use_hist: false
    guide_feature_from_hist: false
    hist_as_guide: false
    hist_conv_trainable: false
    n_bins: 8
    region_num: 8
    use_gray_hist: false
  how_to_fuse: cnn-weights
  illumap_channel: 1
  loss:
    color_loss: 0.5
    cos: 0.5
    cos2: 0.5
    hist_loss: 0
    illumap_loss: 0.01
    inter_hist_loss: 0
    l1_loss: 1.0
    l_spa: 0.5
    ltv: 0
    psnr_loss: 0.01
    ssim_loss: 0.01
    tvloss1: 0.01
    tvloss1_new: 0.01
    tvloss2: 0.01
    tvloss2_new: 0.01
    vgg_loss: 0.01
    weighted_loss: 0
  modelname: csecnet
  n_bins: 8
  share_weights: true
  use_attn_map: false
  use_non_local: false
  use_wavelet: false
runtime_precision: 16
savemodel_every: 4
test_ds:
  GT:
  - E:\CODE\image_retouching\CSEC\dataset\1-6\test_gt1/*
  class: img_dataset
  input:
  - E:\CODE\image_retouching\CSEC\dataset\1-6\test-input\exp1/*
  name: lcdp_data.test
train_ds:
  GT:
  - E:\CODE\image_retouching\CSEC\dataset\gt_1/*
  class: img_dataset
  input:
  - E:\CODE\image_retouching\CSEC\dataset\input/*
  name: lcdp_data.train
val_debug_step_nums: 2
valid_batchsize: 1
valid_ds:
  GT:
  - E:\CODE\image_retouching\CSEC\dataset\gt_1/*
  class: img_dataset
  input:
  - E:\CODE\image_retouching\CSEC\dataset\input/*
  name: lcdp_data.valid
valid_every: 20
valid_ratio: 0.1
